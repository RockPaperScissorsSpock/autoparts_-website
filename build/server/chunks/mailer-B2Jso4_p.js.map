{"version":3,"file":"mailer-B2Jso4_p.js","sources":["../../../.svelte-kit/adapter-node/chunks/mailer.js"],"sourcesContent":["import nodemailer from \"nodemailer\";\nconst test_email = \"niucsci467project24@gmail.com\";\nconst test_pwd = \"mtoe nsvh rlqz gmmq\";\nasync function send_invoice(to, details) {\n  let transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: test_email,\n      pass: test_pwd\n    }\n  });\n  const orderInfo = {\n    name: details.first + \" \" + details.last,\n    receiptNum: details.orderid,\n    trackingLink: `http://localhost:9001/order/customer/${details.orderid}`,\n    items: [\n      /*\n        { itemnum: \"4215\", description: \"Product 1\", quantity: 1, price: 5000 },\n        { itemnum: \"45-A421E\", description: \"Product 2\", quantity: 2, price: 25 },\n        { itemnum: \"\", description: \"Product 3\", quantity: 5, price: 2.99 }\n      */\n      // Add more items as needed.\n    ]\n  };\n  details.cart.items.forEach((line) => {\n    orderInfo.items.push({\n      itemnum: line.item.number,\n      description: line.item.description,\n      quantity: line.qty,\n      price: line.item.price\n    });\n  });\n  let totalPrice = 0;\n  const itemsHTML = orderInfo.items.map((item) => {\n    totalPrice += item.quantity * item.price;\n    return `\n            <tr>\n              <td>${item.description}</td>\n              <td class=\"text-right\">$${(item.quantity * item.price).toFixed(2)}</td>\n            </tr>`;\n  }).join(\"\");\n  let ship_cost = parseFloat(details.total) - totalPrice;\n  const totalRow = `\n        <tr>\n            <td class=\"fw-700 border-top\">Amount paid</td>\n            <td class=\"fw-700 text-right border-top\">$${totalPrice.toFixed(2)}</td>\n        </tr>`;\n  const shipping = `\n    <tr>\n        <td class=\"fw-700 border-top\">Shipping charge</td>\n        <td class=\"fw-700 text-right border-top\">$${ship_cost.toFixed(2)}</td>\n    </tr>\n    `;\n  var htmlContent = `\n        <body style=\"background-color: #ebf8ff;\">\n            <div style=\"margin: 0 auto; max-width: 600px; padding: 20px;\">\n                <br></br>\n                <div style=\"margin-bottom: 24px;\">\n                    <h1 style=\"font-size: 2.25rem; font-weight: 800;\">Thanks for your order,<br>\n                    ${orderInfo.name}!</h1>\n                    <p style=\"margin-top: 16px;\">The estimated delivery time for your order is 2-3 business days.<br>\n                    Track your order on the NIU Automotive website.</p>\n                    <a href=\"${orderInfo.trackingLink}\" style=\"display: inline-block; background-color: #3b82f6; color: #fff; border-radius: 9999px; padding: 12px 24px; width: 100%; max-width: 155px; text-align: center; text-decoration: none; margin-top: 16px;\">Track Your Order</a>\n                </div>\n                <div style=\"border-radius: 1.5rem; padding: 16px; margin-bottom: 24px; background-color: #fff;\">\n                    <h3 style=\"text-align: center; margin-bottom: 16px;\">Receipt from NIU Automotive</h3>\n                    <p style=\"text-align: center; color: #6b7280; margin-bottom: 8px;\">Receipt #${orderInfo.receiptNum}</p>\n                    <table style=\"width: 100%; border-collapse: collapse;\">\n                        <tbody>\n                            ${itemsHTML}\n                            <tr style=\"height: 20px;\"><td colspan=\"2\"></td></tr> <!-- Empty row for spacing -->\n                            ${shipping}\n                            ${totalRow}\n                        </tbody>\n                    </table>\n                    <hr style=\"margin: 24px 0; border: none; border-top: 1px solid #d1d5db;\">\n                    <p style=\"margin-bottom: 0;\">If you have any questions, contact us at questions@niuautomotive.com.</p>\n                </div>\n            </div>\n        </body>`;\n  var mailOptions = {\n    from: \"niucsci467project24@gmail.com\",\n    to,\n    subject: `Your NIU Automative Order`,\n    html: htmlContent\n  };\n  transporter.sendMail(mailOptions, function(error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n      return info.response;\n    }\n  });\n}\nasync function send_confirmation(to, details) {\n  let transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: test_email,\n      pass: test_pwd\n    }\n  });\n  const orderInfo = {\n    name: details.first + \" \" + details.last,\n    city: details.city,\n    state: details.state,\n    trackingLink: `http://localhost:9001/order/customer/${details.orderid}`,\n    orderNum: details.orderid,\n    shipmentTotal: parseFloat(details.total)\n  };\n  var htmlContent = `\n        <body style=\"background-color: #ebf8ff;\">\n            <div style=\"margin: 0 auto; max-width: 600px; padding: 20px;\">\n                <br></br>\n                <div style=\"margin-bottom: 24px;\">\n                    <h1 style=\"font-size: 2.25rem; font-weight: 800;\">Hello, ${orderInfo.name}!<br>\n                    Your order has shipped!</h1>\n                    <p style=\"margin-top: 16px;\">The estimated delivery time for your order is 2-3 business days.<br>\n                    Track your order on the NIU Automotive website.</p>\n                    <a href=\"${orderInfo.trackingLink}\" style=\"display: inline-block; background-color: #3b82f6; color: #fff; border-radius: 9999px; padding: 12px 24px; width: 100%; max-width: 155px; text-align: center; text-decoration: none; margin-top: 16px;\">Track Your Order</a>\n                </div>\n                <div style=\"border-radius: 1.5rem; padding: 16px; margin-bottom: 24px; background-color: #fff;\">\n                    <h3 style=\"text-align: center; margin-bottom: 16px; font-size: 1.50rem;\">Shipping Confirmation</h3>\n                    <p style=\"text-align: left; color: #6b7280; margin-bottom: 8px;\">Ship to</p>\n                    <p style=\"text-align: left; font-weight: 500; font-size: 1.25rem; margin-bottom: 12px;\">${orderInfo.name}<br>\n                    ${orderInfo.city}, ${orderInfo.state}</p>\n                    <p style=\"text-align: left; color: #6b7280; margin-bottom: 8px;\">Order #</p>\n                    <p style=\"text-align: left; font-weight: 500; font-size: 1.25rem; margin-bottom: 12px;\">${orderInfo.orderNum}</p>\n                    <br>\n                    <!-- Shipment total box -->\n                    <div style=\"display: flex; align-items: center; justify-content: space-between; background-color: #f3f4f6; padding: 6px;\">\n                        <p style=\"font-weight: 500; font-size: 1.25rem;\">Shipment total&nbsp;</p>\n                        <p style=\"font-weight: 500; font-size: 1.25rem;\">$${orderInfo.shipmentTotal.toFixed(2)}</p>\n                    </div>\n                    <hr style=\"margin: 24px 0; border: none; border-top: 1px solid #d1d5db;\">\n                    <p style=\"margin-bottom: 0;\">If you have any questions, contact us at questions@niuautomotive.com.</p>\n                </div>\n            </div>\n        </body>`;\n  var mailOptions = {\n    from: \"niucsci467project24@gmail.com\",\n    to,\n    subject: `Your order has shipped (#${orderInfo.orderNum})`,\n    html: htmlContent\n  };\n  transporter.sendMail(mailOptions, function(error, info) {\n    if (error) {\n      console.log(error);\n    } else {\n      console.log(\"Email sent: \" + info.response);\n      return info.response;\n    }\n  });\n}\nexport {\n  send_confirmation as a,\n  send_invoice as s\n};\n"],"names":[],"mappings":"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"}